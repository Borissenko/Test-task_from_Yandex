import React, { Component } from 'react';
import {connect} from 'react-redux'

import {getFlightsAll} from 'selectors'
import {getFlightsArriv} from 'selectors'
import {getFlightsDepart} from 'selectors'
import {getFlightsDyl} from 'selectors'

class App extends Component {
  row (flight, index) {
      return (
              <div className="row" key={index}>
                  <div className="col-sm">{flight.time}</div>
                  <div className="col-sm">{flight.name}</div>
                  <div className="col-sm">{flight.number}</div>
                  <div className="col-sm">{flight.status}</div>
              </div>
      )
  }

  render() {
    const fl = this.props.flightsAll

    function arr() {
        console.log('working')
        this.fl = this.props.flightsArriv
    }

    return (
      <div>
          <div className="container">
              <hr/>
              <h2>Wellcome to Moscow !</h2>
              <hr/>
              <h4>Current Time is ...</h4>

              <button onClick={this.fl = this.props.flightsAll}>All flights</button>
              <button onClick={arr.bind(this)}>Arrivals</button>
              {/*<button onClick={this.fl = this.props.flightsDepart}>Departures</button>*/}
              {/*<button onClick={this.fl = this.props.flightsDyl}>Dylate</button>*/}

              <hr/>
              <h6>put the number of flight for searching</h6>
              <input type="text"/>
              <br/> available numbers for searching are 1000, 2000, 3000, 4000

              <hr/>
              <div className="container">
                 <div className="row">
                    <div className="col-sm">Time</div>
                    <div className="col-sm">Direction</div>
                    <div className="col-sm">Number</div>
                    <div className="col-sm">Status</div>
                 </div>
              </div>

              <hr/>
              <div className="container">
                  {fl.map((flight, index) => this.row(flight, index))}
              </div>

              <div className="red">
                No one was found.
                <br/>  Please put number of flight more carefully.
              </div>

          </div>
      </div>
    );
  }
}

const mSTP = (st) => ({
    flightsAll: getFlightsAll(st),
    flightsArriv: getFlightsArriv(st),
    flightsDepart: getFlightsDepart(st),
    flightsDyl: getFlightsDyl(st)
})

export default connect(mSTP)(App)
